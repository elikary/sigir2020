#!/bin/sh
DATASET=$1
#MAINDIR="/home/el3/E93913/PhDstuff/shared_code/librec-2.0.0/" #librec source dir
CONFPATH="../conf/all_algorithms" #config path inside librec main dir (algorithm config)
DATAPATH="../data/$DATASET" #data path inside librec main dir (data for recommender train and test sets)
RESULT="../result/$DATASET_one" #result path inside librec main dir (recommended list per algorithm)
TRAINFILE="train012.txt" #train file should be in the datapath (name of the training set file)
TESTFILE="test012.txt" #test file should be in the datapath (name of the training set file)
k=$2 #size of the recommended list

# I used 10 algorithms, there are more in the CF folder of the source dir
for algorithm in globalaverage mostpopular itemknn listrankmf randomguess slim svdpp ranksgd userknn \
optimaltruefdr optimaltrueprecision \
smootheditemaverage pnmf rankals cofiset eals gbpr plsa rankpmf asvdpp bpoissmf climf
do
  ./librec rec -exec -conf "$CONFPATH/"$algorithm".properties" -D "dfs.data.dir=../$DATAPATH" -D "data.input.path=$TRAINFILE" -D "data.testset.path=$TESTFILE" -D "rec.recommender.ranking.topn="$k -D "dfs.result.dir=../"$RESULT
done

#run this file in a unix command line (./run_all)
